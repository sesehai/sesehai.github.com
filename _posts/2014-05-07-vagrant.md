---
layout: post
category : 教程
tagline: ""
tags : [vagrant, VirtualBox]
title : 使用Vagrant配置开发环境
author: SSH
---

### 使用Vagrant配置开发环境

为了使线上环境和开发环境统一，使用vagrant可以在你使用的系统下搭建一套虚拟开发环境；让开发者更方便的在统一的环境下进行开发；避免环境差异带了的问题。并且vagrant的使用和配置都非常简单。
<!--break-->

#### 使用Vagrant搭建虚拟环境（windows系统为例）

##### 安装VirtualBox

Vagrant需要配合使用VirtualBox一起来搭建虚拟环境；
下载VirtualBox，[https://www.virtualbox.org/wiki/Downloads]: https://www.virtualbox.org/wiki/Downloads "VirtualBox"
安装下载的文件
我的安装路径：D:\Program Files\Oracle\VirtualBox

##### 安装Vagrant

下载地址：[http://downloads.vagrantup.com/]: http://downloads.vagrantup.com/ "Vagrant"
安装下载的文件
安装完成后，环境变量中：Path 包含 D:\HashiCorp\Vagrant\bin （我的安装路径）

##### 下载系统镜像

下载地址：[http://www.vagrantbox.es/]: http://www.vagrantbox.es/  "vagrantbox"
选择你需要的系统下载
我选择：CentOS 6.4 x86_64 https://github.com/2creatives/vagrant-centos/releases/download/v6.4.2/centos64-x86_64-20140116.box
	
##### Vagrant 添加镜像（刚才下载的centos64-x86_64-20140116.box文件）

我把下载的centos64-x86_64-20140116.box文件放在目录：D:\HashiCorp\dev\ 下；
打开cmd命令行，进入目录 D:\HashiCorp\dev\;
执行：

	vagrant box add centos64-x86 centos64-x86_64-20140116.box

执行此命令为：添加镜像文件 	centos64-x86_64-20140116.box，名明为 centos64-x86

##### Vagrant 初始化刚添加环境

打开cmd命令行，进入目录 D:\HashiCorp\dev\;
执行：

	vagrant init centos64-x86

##### Vagrant 配置

Vagrant 初始化成功后，会在初始化的目录里生成一个 Vagrantfile 配置文件，可以修改配置文件进行个性化的配置。

- 设置网络链接
	端口映射方式（Vagrant 默认）

		config.vm.network :forwarded_port, guest: 80, host: 80

	host-only 方式
		模这个简单方便，打开 Vagrantfile，将下面这行的注释去掉（移除 #）并保存：

		config.vm.network :private_network, ip: "192.168.33.10"

		vagrant reload(重启虚拟机)，这样我们就能用 192.168.33.10 访问这台机器了。
		如无法访问，可能是防火墙问题，执行 /etc/init.d/iptables stop

##### Vagrant 启动刚建立的虚拟环境

打开cmd命令行，进入目录 D:\HashiCorp\dev\;
执行：

	vagrant up

##### Vagrant 命令

可以在命令行执行:

	vagrant --h

官方文档 ：
	[地址]: http://docs.vagrantup.com/v2/cli/index.html

